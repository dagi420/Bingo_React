(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{17:function(e,a,t){e.exports=t(29)},23:function(e,a,t){},24:function(e,a,t){},29:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(14),c=t.n(l),o=(t(23),t(11)),s=t(3),m=t(16),i=t(15),d=t.n(i);t(24);const u=t(31).a.create({baseURL:"http://localhost:3001"});u.interceptors.request.use(e=>{const a=localStorage.getItem("token");return console.log("Retrieved token:",a),a&&(e.headers.Authorization="Bearer "+a),e},e=>Promise.reject(e));var g=u;const b=["B","I","N","G","O"];var h=()=>{const[e,a]=Object(n.useState)(null),[t,l]=Object(n.useState)(null),[c,o]=Object(n.useState)([]),[i,u]=Object(n.useState)(!1),[h,E]=Object(n.useState)(1),[v,_]=Object(n.useState)(null),[N,f]=Object(n.useState)(!1),[C,y]=Object(n.useState)(5),k=Object(n.useRef)(null),G=Object(n.useRef)(null),p=Object(s.o)();Object(n.useEffect)(()=>(v||_(d()({el:k.current,THREE:m,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,highlightColor:11927529,lowlightColor:9169099,baseColor:5288640,blurFactor:.9,speed:2.8,zoom:.88})),()=>{v&&v.destroy()}),[v]),Object(n.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),a=await g.get("/game/availableGames",{headers:{Authorization:"Bearer "+e}});console.log("Available Games:",a.data.games),o(a.data.games)}catch(e){console.error("Error fetching available games:",e)}})()},[]);const j=1===h?Array.from({length:100},(e,a)=>a+1):Array.from({length:100},(e,a)=>a+101);return r.a.createElement("div",null,N?r.a.createElement("div",{className:"joining-status"},r.a.createElement("h2",null,"Joining game... Countdown: ",C)):r.a.createElement("div",{ref:k,className:"game-dashboard-container"},r.a.createElement("div",{className:"left-container"},r.a.createElement("h1",{className:"welcome-text"},"Welcome to the Bingo Game!"),i?null:r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Select a Number to Get Your Bingo Card"),r.a.createElement("div",{className:"number-grid"},j.map(t=>r.a.createElement("div",{key:t,className:"number-grid-item "+(e===t?"selected":""),onClick:()=>(async e=>{a(e);try{console.log("Fetching card for number: "+e);const a=localStorage.getItem("token"),t=await g.get("/game/cards/"+e,{headers:{Authorization:"Bearer "+a}});console.log("Response:",t);const n=t.data.card;console.log("Card Data:",n),l(n),window.innerWidth<=600&&G.current.scrollIntoView({behavior:"smooth"})}catch(t){console.error(`Error fetching bingo card for number ${e}:`,t)}})(t)},t))),r.a.createElement("div",{className:"pagination-buttons"},r.a.createElement("button",{onClick:()=>{E(e=>1===e?2:e-1)},disabled:1===h},"Previous"),r.a.createElement("button",{onClick:()=>{E(e=>2===e?1:e+1)},disabled:2===h},"Next")))),r.a.createElement("div",{className:"right-container",ref:G},e&&r.a.createElement("div",{className:"bingo-card-container"},r.a.createElement("h3",null,"Your Bingo Card (Card #",e,")"),r.a.createElement("div",{className:"bingo-card"},r.a.createElement("div",{className:"bingo-header"},b.map((e,a)=>r.a.createElement("div",{key:a,className:"bingo-header-cell "+e},e))),r.a.createElement("div",{className:"bingo-body"},t&&t.map((e,a)=>r.a.createElement("div",{key:a,className:"bingo-row"},e.map((e,a)=>r.a.createElement("div",{key:a,className:"bingo-cell"},"\u2605"===e?"\u2605":e)))))),r.a.createElement("button",{onClick:async()=>{if(e)try{const a=localStorage.getItem("token");await g.post("/game/select-card",{cardId:e},{headers:{Authorization:"Bearer "+a}}),u(!0),p("/game",{state:{bingoCard:t}})}catch(a){console.error("Error selecting card:",a)}else alert("Please select a number from the grid first!")},className:"select-card-button"},"Confirm Card"))),r.a.createElement("div",{className:"available-games-container"},r.a.createElement("h2",null,"Available Games"),r.a.createElement("ul",null,c.map(e=>r.a.createElement("li",{key:e.id},e.name," - ",e.status,r.a.createElement("button",{onClick:()=>(async e=>{try{f(!0);const a=localStorage.getItem("token");await g.post("/game/join/"+e,{},{headers:{Authorization:"Bearer "+a}}),alert("Joined the game successfully!");const t=setInterval(()=>{y(e=>(1===e&&(clearInterval(t),f(!1)),e-1))},1e3)}catch(a){console.error("Error joining game:",a)}})(e.id)},"Join Game")))))))},E=t(5),v=t.n(E);const _=["B","I","N","G","O"];var N=e=>{let{bingoCard:a}=e;const[t,l]=Object(n.useState)([a[2][2]]),[c,o]=Object(n.useState)([]),[s,m]=Object(n.useState)(""),[i,d]=Object(n.useState)(5),u=Object(n.useRef)(null);Object(n.useEffect)(()=>{s&&o(e=>[...e,s])},[s]),Object(n.useEffect)(()=>{if(i>0){const e=setInterval(()=>{d(e=>e-1)},1e3);return()=>clearInterval(e)}},[i]),Object(n.useEffect)(()=>((()=>{const e=new Set(c),a=setInterval(()=>{if(e.size>=75)return void clearInterval(a);let t,n,r;do{switch(r=_[Math.floor(Math.random()*_.length)],r){case"B":n=Math.floor(15*Math.random())+1;break;case"I":n=Math.floor(15*Math.random())+16;break;case"N":n=Math.floor(15*Math.random())+31;break;case"G":n=Math.floor(15*Math.random())+46;break;case"O":n=Math.floor(15*Math.random())+61;break;default:n=Math.floor(75*Math.random())+1}t=`${r}${n}`}while(e.has(t));e.add(t),m(t),d(5)},5e3);u.current=a})(),()=>{clearInterval(u.current)}),[c]);const g=e=>{switch(e[0]){case"B":return v.a.red;case"I":return v.a.yellow;case"N":return v.a.blue;case"G":return v.a.orange;case"O":return v.a.green;default:return""}};return r.a.createElement("div",{className:v.a.container},r.a.createElement("div",{className:v.a.calledNumbersContainer},r.a.createElement("h3",null,"Called Numbers"),r.a.createElement("div",{className:v.a.calledNumbers},c.length>0?c.slice(-5).map((e,a)=>r.a.createElement("div",{key:a,className:`${v.a.calledNumber} ${g(e)} ${v.a.fadeIn}`},e)):r.a.createElement("div",null,"No numbers called yet"))),r.a.createElement("div",{className:v.a.currentCall},r.a.createElement("h3",null,"Current Call"),s?r.a.createElement("div",{className:`${v.a.calledNumber} ${g(s)} ${v.a.fadeIn}`},s):r.a.createElement("div",null,"No current call"),r.a.createElement("div",{className:v.a.countdown},"Next call in: ",i," seconds")),r.a.createElement("h2",null,"Game Started"),r.a.createElement("div",{className:v.a.bingoCard},r.a.createElement("div",{className:v.a.bingoHeader},_.map((e,a)=>r.a.createElement("div",{key:a,className:`${v.a.bingoHeaderCell} ${g(e+"1")}`},e))),r.a.createElement("div",{className:v.a.bingoBody},a.map((e,n)=>r.a.createElement("div",{key:n,className:v.a.bingoRow},e.map((e,c)=>r.a.createElement("div",{key:c,className:`${v.a.bingoCell} ${t.includes(e)?v.a.marked:""}`,onClick:()=>((e,t)=>{const n=a[e][t];l(e=>e.includes(n)?e.filter(e=>e!==n):[...e,n])})(n,c)},e)))))),r.a.createElement("button",{onClick:()=>{if(!t.every(e=>c.includes(e)))return void alert("Not Bingo yet! Keep going!");const e=a.some(e=>e.every(e=>t.includes(e))),n=a[0].some((e,n)=>a.every(e=>t.includes(e[n]))),r=a.every((e,a)=>t.includes(e[a])),l=a.every((e,a)=>t.includes(e[4-a]));e||n||r||l?alert("Bingo! You win!"):alert("Not Bingo yet! Keep going!")},className:v.a.checkBingoButton},"Check Bingo"))};var f=()=>r.a.createElement(o.a,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/",element:r.a.createElement(h,null)}),r.a.createElement(s.a,{path:"/",element:r.a.createElement(N,null)})));var C=e=>{e&&e instanceof Function&&t.e(3).then(t.bind(null,32)).then(a=>{let{getCLS:t,getFID:n,getFCP:r,getLCP:l,getTTFB:c}=a;t(e),n(e),r(e),l(e),c(e)})};c.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(f,null))),C()},5:function(e,a,t){e.exports={container:"GamePage_container__3zKD0",calledNumbersContainer:"GamePage_calledNumbersContainer___I8Cj",calledNumbers:"GamePage_calledNumbers__2tkqN",calledNumber:"GamePage_calledNumber__ss8J7",red:"GamePage_red__2WZ-Y",yellow:"GamePage_yellow__1aA6Z",blue:"GamePage_blue__yAiU_",orange:"GamePage_orange__fvYyR",green:"GamePage_green__2Lt0q",currentCall:"GamePage_currentCall__1EGme",bingoCard:"GamePage_bingoCard__5WnrH",bingoHeader:"GamePage_bingoHeader__22qCV",bingoHeaderCell:"GamePage_bingoHeaderCell__2mzbU",bingoBody:"GamePage_bingoBody__1J3RF",bingoRow:"GamePage_bingoRow__11CC_",bingoCell:"GamePage_bingoCell__1SpqC",marked:"GamePage_marked__28MXw",checkBingoButton:"GamePage_checkBingoButton__coj9r",fadeIn:"GamePage_fadeIn__3dmOf"}}},[[17,1,2]]]);
//# sourceMappingURL=main.a1b90e13.chunk.js.map